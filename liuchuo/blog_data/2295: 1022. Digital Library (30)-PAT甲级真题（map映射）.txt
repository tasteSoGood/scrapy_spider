<p><span style="color: #33cccc;"><strong>A Digital Library contains millions of books, stored according to their titles, authors, key words of their abstracts, publishers, and published years. Each book is assigned an unique 7-digit number as its ID. Given any query from a reader, you are supposed to output the resulting books, sorted in increasing order of their ID’s.</strong></span></p><p><span style="color: #3366ff;"><strong>Input Specification:</strong></span></p><p><span style="color: #33cccc;"><strong>Each input file contains one test case. For each case, the first line contains a positive integer N (&lt;=10000) which is the total number of books. Then N blocks follow, each contains the information of a book in 6 lines:</strong></span></p><p><span style="color: #33cccc;"><strong>Line #1: the 7-digit ID number;</strong></span><br><span style="color: #33cccc;"><strong>Line #2: the book title — a string of no more than 80 characters;</strong></span><br><span style="color: #33cccc;"><strong>Line #3: the author — a string of no more than 80 characters;</strong></span><br><span style="color: #33cccc;"><strong>Line #4: the key words — each word is a string of no more than 10 characters without any white space, and the keywords are separated by exactly one space;</strong></span><br><span style="color: #33cccc;"><strong>Line #5: the publisher — a string of no more than 80 characters;</strong></span><br><span style="color: #33cccc;"><strong>Line #6: the published year — a 4-digit number which is in the range [1000, 3000].</strong></span><br><span style="color: #33cccc;"><strong>It is assumed that each book belongs to one author only, and contains no more than 5 key words; there are no more than 1000 distinct key words in total; and there are no more than 1000 distinct publishers.</strong></span></p><p><span style="color: #33cccc;"><strong>After the book information, there is a line containing a positive integer M (&lt;=1000) which is the number of user’s search queries. Then M lines follow, each in one of the formats shown below:</strong></span></p><p><span style="color: #33cccc;"><strong>1: a book title</strong></span><br><span style="color: #33cccc;"><strong>2: name of an author</strong></span><br><span style="color: #33cccc;"><strong>3: a key word</strong></span><br><span style="color: #33cccc;"><strong>4: name of a publisher</strong></span><br><span style="color: #33cccc;"><strong>5: a 4-digit number representing the year</strong></span><br><span style="color: #33cccc;"><strong>Output Specification:</strong></span></p><p><span style="color: #33cccc;"><strong>For each query, first print the original query in a line, then output the resulting book ID’s in increasing order, each occupying a line. If no book is found, print “Not Found” instead.</strong></span></p><p><span style="color: #3366ff;"><strong>Sample Input:</strong></span><br><span style="color: #33cccc;"><strong>3</strong></span><br><span style="color: #33cccc;"><strong>1111111</strong></span><br><span style="color: #33cccc;"><strong>The Testing Book</strong></span><br><span style="color: #33cccc;"><strong>Yue Chen</strong></span><br><span style="color: #33cccc;"><strong>test code debug sort keywords</strong></span><br><span style="color: #33cccc;"><strong>ZUCS Print</strong></span><br><span style="color: #33cccc;"><strong>2011</strong></span><br><span style="color: #33cccc;"><strong>3333333</strong></span><br><span style="color: #33cccc;"><strong>Another Testing Book</strong></span><br><span style="color: #33cccc;"><strong>Yue Chen</strong></span><br><span style="color: #33cccc;"><strong>test code sort keywords</strong></span><br><span style="color: #33cccc;"><strong>ZUCS Print2</strong></span><br><span style="color: #33cccc;"><strong>2012</strong></span><br><span style="color: #33cccc;"><strong>2222222</strong></span><br><span style="color: #33cccc;"><strong>The Testing Book</strong></span><br><span style="color: #33cccc;"><strong>CYLL</strong></span><br><span style="color: #33cccc;"><strong>keywords debug book</strong></span><br><span style="color: #33cccc;"><strong>ZUCS Print2</strong></span><br><span style="color: #33cccc;"><strong>2011</strong></span><br><span style="color: #33cccc;"><strong>6</strong></span><br><span style="color: #33cccc;"><strong>1: The Testing Book</strong></span><br><span style="color: #33cccc;"><strong>2: Yue Chen</strong></span><br><span style="color: #33cccc;"><strong>3: keywords</strong></span><br><span style="color: #33cccc;"><strong>4: ZUCS Print</strong></span><br><span style="color: #33cccc;"><strong>5: 2011</strong></span><br><span style="color: #33cccc;"><strong>3: blablabla</strong></span><br><span style="color: #3366ff;"><strong>Sample Output:</strong></span><br><span style="color: #33cccc;"><strong>1: The Testing Book</strong></span><br><span style="color: #33cccc;"><strong>1111111</strong></span><br><span style="color: #33cccc;"><strong>2222222</strong></span><br><span style="color: #33cccc;"><strong>2: Yue Chen</strong></span><br><span style="color: #33cccc;"><strong>1111111</strong></span><br><span style="color: #33cccc;"><strong>3333333</strong></span><br><span style="color: #33cccc;"><strong>3: keywords</strong></span><br><span style="color: #33cccc;"><strong>1111111</strong></span><br><span style="color: #33cccc;"><strong>2222222</strong></span><br><span style="color: #33cccc;"><strong>3333333</strong></span><br><span style="color: #33cccc;"><strong>4: ZUCS Print</strong></span><br><span style="color: #33cccc;"><strong>1111111</strong></span><br><span style="color: #33cccc;"><strong>5: 2011</strong></span><br><span style="color: #33cccc;"><strong>1111111</strong></span><br><span style="color: #33cccc;"><strong>2222222</strong></span><br><span style="color: #33cccc;"><strong>3: blablabla</strong></span><br><span style="color: #33cccc;"><strong>Not Found</strong></span></p><p><span style="color: #99cc00;"><strong>题目大意：模拟数字图书馆的查询功能。会给出n本书的信息，以及m个需要查询的命令，数字标号对应相应的命令，数字编号后面的字符串是查询的搜索词，要求输出这行命令以及输出满足条件的书的id，如果一个都没有找到，输出Not Found</strong></span><br><span style="color: #ff9900;"><strong>分析：</strong></span><br><span style="color: #ff9900;"><strong>– 对除了id之外的其他信息都建立一个map&lt;string, set&lt;int&gt;&gt;，把相应的id插入对应搜索词的map的集合里面，形成一个信息对应一个集合，集合里面是复合条件的书的id。</strong></span><br><span style="color: #ff9900;"><strong>– 因为对于输入的关键词（可以重复，算是书本对应的tag标签吧～）没有给定关键词的个数，可以使用while(cin &gt;&gt; s)并且判断c = getchar()，c是否等于\\n，如果是再退出循环～</strong></span><br><span style="color: #ff9900;"><strong>– 建立query，通过传参的形式可以将不同的map名称统一化，先要判断map.find()和m.end()是否相等，如果不等再去遍历整个map，输出所有满足条件的id，如果相等就说明不存在这个搜索词对应的id，那么就要输出Not Found～</strong></span><br><span style="color: #33cccc;"><strong>– 传参一定要用引用，否则最后一组数据可能会超时</strong></span></p><p> </p>